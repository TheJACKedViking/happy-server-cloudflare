# Happy Server Environment Variables
#
# Copy this file to .env and fill in your values.
# Required variables will cause the server to fail on startup if not set.

# ============================================
# REQUIRED - Database
# ============================================

# Type: string (PostgreSQL connection URL)
# Default: none (required)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/happy

# Type: string (Redis connection URL)
# Default: none (required)
# Format: redis://host:port or redis://user:password@host:port
REDIS_URL=redis://localhost:6379

# ============================================
# REQUIRED - S3 Storage
# ============================================

# Type: string (hostname)
# Default: none (required)
# Examples: s3.amazonaws.com, minio.local, storage.googleapis.com
S3_HOST=s3.amazonaws.com

# Type: string
# Default: none (required)
S3_ACCESS_KEY=your-access-key

# Type: string
# Default: none (required)
S3_SECRET_KEY=your-secret-key

# Type: string
# Default: none (required)
# Valid: lowercase, no special chars except hyphens
S3_BUCKET=happy-storage

# Type: string (URL)
# Default: none (required)
# Format: https://bucket.s3.region.amazonaws.com or custom CDN URL
S3_PUBLIC_URL=https://happy-storage.s3.amazonaws.com

# Type: integer
# Default: 443 (HTTPS) or 80 (HTTP)
# Valid: 1-65535
# S3_PORT=443

# Type: boolean
# Default: true
# Valid: true, false
# S3_USE_SSL=true

# ============================================
# REQUIRED - Security
# ============================================

# Type: string (64-character hex)
# Default: none (required)
# Generate: openssl rand -hex 32
# DEPRECATED: Use HAPPY_MASTER_SECRET instead (below)
HANDY_MASTER_SECRET=your-32-byte-hex-secret

# Type: string (64-character hex)
# Default: none (falls back to HANDY_MASTER_SECRET)
# Generate: openssl rand -hex 32
# Note: This is the preferred variable name going forward
# HAPPY_MASTER_SECRET=your-32-byte-hex-secret

# ============================================
# OPTIONAL - Server Configuration
# ============================================

# Type: integer
# Default: 3005
# Valid: 1024-65535
# PORT=3005

# Type: string (enum)
# Default: development
# Valid: development, staging, production, test
# NODE_ENV=development

# ============================================
# OPTIONAL - Monitoring
# ============================================

# Type: boolean
# Default: true
# Valid: true, false
# METRICS_ENABLED=true

# Type: integer
# Default: 9090
# Valid: 1024-65535
# METRICS_PORT=9090

# ============================================
# OPTIONAL - GitHub Integration
# ============================================
# All GitHub variables are required together if you want GitHub integration.

# Type: integer
# Default: none (optional feature)
# GITHUB_APP_ID=

# Type: string (PEM format, multi-line)
# Default: none (optional feature)
# Note: Can be base64 encoded for single-line storage
# GITHUB_PRIVATE_KEY=

# Type: string
# Default: none (optional feature)
# GITHUB_CLIENT_ID=

# Type: string
# Default: none (optional feature)
# GITHUB_CLIENT_SECRET=

# Type: string (URL)
# Default: none (optional feature)
# Format: https://your-domain.com/auth/github/callback
# GITHUB_REDIRECT_URI=

# Type: string (40-character hex recommended)
# Default: none (optional feature)
# Generate: openssl rand -hex 20
# GITHUB_WEBHOOK_SECRET=

# Type: string (URL)
# Default: none (optional feature)
# Note: Alternative to GITHUB_REDIRECT_URI
# GITHUB_REDIRECT_URL=

# ============================================
# OPTIONAL - Voice Integration (ElevenLabs)
# ============================================

# Type: string (API key)
# Default: none (optional feature)
# Get from: https://elevenlabs.io/
# ELEVENLABS_API_KEY=

# ============================================
# DEBUG - Use with caution in production
# ============================================

# Type: boolean
# Default: false
# Valid: true, false
# WARNING: Exposes logs - never enable in production
# DANGEROUSLY_LOG_TO_SERVER_FOR_AI_AUTO_DEBUGGING=true
